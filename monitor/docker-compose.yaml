version: "3.3"

services:
  watchtower:
    image: containrrr/watchtower:1.5.1
    container_name: custom_watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    restart: unless-stopped
    environment:
      - WATCHTOWER_TRACE=true
      - WATCHTOWER_MONITOR_ONLY=true
      - WATCHTOWER_DEBUG=true
      - WATCHTOWER_NOTIFICATIONS=email
      - WATCHTOWER_NOTIFICATION_EMAIL_FROM=ha@turkel.com
      - WATCHTOWER_NOTIFICATION_EMAIL_TO=cyturel@gmail.com
      - WATCHTOWER_NOTIFICATION_EMAIL_SERVER=smtp.gmail.com
      - WATCHTOWER_NOTIFICATION_EMAIL_SERVER_PORT=587
      - WATCHTOWER_NOTIFICATION_EMAIL_DELAY=2
      - WATCHTOWER_NOTIFICATION_EMAIL_SERVER_USER=cyturel@gmail.com
      - WATCHTOWER_NOTIFICATION_EMAIL_SERVER_PASSWORD=${EMAIL_PASSWORD}

  dozzle:
    container_name: custom_dozzle
    image: amir20/dozzle:v4.3.0
    restart: unless-stopped
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    ports:
      - 9999:8080

  uptime-kuma:
    container_name: custom_uptime-kuma
    image: louislam/uptime-kuma:1.18.5
    restart: unless-stopped
    volumes:
      - /usr/share/hassio/share/kuma:/app/data
    ports:
      - 3001:3001


